<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily BIAS</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #f2f2f2;
      color: #333;
    }
    .container {
      background-color: #fff;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 30px;
      max-width: 800px;
      width: 90%;
    }
    h1 {
      text-align: center;
      color: #005a9e;
      margin-bottom: 30px;
      font-weight: 700;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
      font-weight: 700;
      color: #005a9e;
    }
    tr:hover {
      background-color: #f2f2f2;
    }
    select {
      width: 100%;
      padding: 8px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 3px;
      background-color: #f2f2f2;
      color: #333;
    }
    select:focus {
      outline: none;
      border-color: #005a9e;
    }
    .color-indicator {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 8px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }
    .button-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .button-container button {
      padding: 10px 20px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .button-container button:hover {
      background-color: #005a9e;
      color: white;
    }
  </style>
   <script>
    document.addEventListener('DOMContentLoaded', () => {
      const selects = document.querySelectorAll('select');
      const longPercentageElem = document.getElementById('long-percentage');
      const shortPercentageElem = document.getElementById('short-percentage');
      const rangePercentageElem = document.getElementById('range-percentage');

      // Function to update selection based on button click
      function updateSelection(value) {
        selects.forEach(select => {
          switch (value) {
            case 'long':
              select.value = (select.querySelector('option[value="long"]') ? 'long' : '> DH');
              break;
            case 'short':
              select.value = (select.querySelector('option[value="short"]') ? 'short' : '< DL');
              break;
            case 'range':
              select.value = 'range';
              break;
            case 'clear':
              select.value = '';
              break;
          }
        });
        updateColor();
        updatePercentage();
      }

      // Function to update color indicators and body background
      function updateColor() {
        let greenCount = 0;
        let redCount = 0;
        let orangeCount = 0;
        const indicators = document.querySelectorAll('.color-indicator');
        const body = document.querySelector('body');

        indicators.forEach(indicator => {
          const value = indicator.parentElement.previousElementSibling.querySelector('td select').value;
          const colorIndicator = indicator;
          switch (value) {
            case 'long':
            case '> DH':
              colorIndicator.style.backgroundColor = '#008000';
              greenCount++;
              break;
            case 'short':
            case '< DL':
              colorIndicator.style.backgroundColor = '#ff0000';
              redCount++;
              break;
            case 'range':
              colorIndicator.style.backgroundColor = '#ffa500';
              orangeCount++;
              break;
            default:
              colorIndicator.style.backgroundColor = '#ccc';
              break;
          }
        });

        if (greenCount >= 6) {
          body.style.backgroundColor = '#C2FFC2';
        } else if (redCount >= 6) {
          body.style.backgroundColor = '#FBBDBD';
        } else if (orangeCount >= 6) {
          body.style.backgroundColor = '#FFE9C0';
        } else {
          body.style.backgroundColor = '#f2f2f2';
        }
      }

      // Function to calculate and update the percentages
      function updatePercentage() {
        let longCount = 0;
        let shortCount = 0;
        let rangeCount = 0;
        let totalCount = selects.length;

        selects.forEach(select => {
          const value = select.value;
          switch (value) {
            case 'long':
            case '> DH':
              longCount++;
              break;
            case 'short':
            case '< DL':
              shortCount++;
              break;
            case 'range':
              rangeCount++;
              break;
          }
        });

        const longPercentage = ((longCount / totalCount) * 100).toFixed();
        const shortPercentage = ((shortCount / totalCount) * 100).toFixed();
        const rangePercentage = ((rangeCount / totalCount) * 100).toFixed();

        longPercentageElem.textContent = `${longPercentage}%`;
        shortPercentageElem.textContent = `${shortPercentage}%`;
        rangePercentageElem.textContent = `${rangePercentage}%`;
      }

      const buttons = document.querySelectorAll('.button-container button');
      buttons.forEach(button => {
        button.addEventListener('click', function() {
          const value = this.getAttribute('data-value');
          updateSelection(value);
        });
      });

      // Initial color and percentage update
      updateColor();
      updatePercentage();

      // Event listener for select change
      selects.forEach(select => {
        select.addEventListener('change', () => {
          updateColor();
          updatePercentage();
        });
      });
    });
  </script>
</head>
<body>
  <div class="container">
              
    <h1>Daily BIAS</h1>
              
    <table>
      <thead>
        <tr>
          <th>Indikator</th>
          <th>Optionen</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
          <td>DH/DL (heute)</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="> DH">> DH</option>
              <option value="< DL">< DL</option>
              <option value="range">Range</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
                      <tr>
          <td>DH/DL (Vortrag)</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="> DH">> preDH</option>
              <option value="< DL">< preDL</option>
              <option value="range">inside Preday</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
        <tr>
          <td>Preday Fakeout?</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Fakeout preDL</option>
              <option value="short">Fakeout preDH</option>
              <option value="range">kein Preday Fakeout</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
      
                                    <tr>
          <td>Price Action</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Long</option>
              <option value="short">Short</option>
              <option value="range">Range</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
        <tr>
          <td>Price -> Value Area</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">> VA</option>
              <option value="short">< VA</option>
              <option value="range">in VA</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
        <tr>
          <td>Price -> Initial Range</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">> IR</option>
              <option value="short">< IR</option>
              <option value="range">in IR</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
                      <tr>
        <tr>
          <td>Volume Profile</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Long (P)</option>
              <option value="short">Short (b)</option>
              <option value="range">Range (D)</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
        <tr>
          <td>VPOC</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Long</option>
              <option value="short">Short</option>
              <option value="range">Range</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
           
        <tr>
          <td>MP: Single Prints</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Long</option>
              <option value="short">Short</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>
        <tr>
          <td>MP: Tail</td>
          <td>
            <select>
              <option value="">Wählen Sie...</option>
              <option value="long">Buying Tail</option>
              <option value="short">Selling Tail</option>
            </select>
          </td>
          <td>
            <span class="color-indicator"></span>
          </td>
        </tr>

      </tbody>
    </table>

<div class="button-container">
  <button data-value="long" style="background-color:#C2FFC2; border: 2px solid #008000; border-radius: 5px;">Long</button>
  <div class="percentage-container">
    <p style="background-color:#C2FFC2; font-weight: bold; border: 2px solid #008000; border-radius: 5px; padding: 5px;" id="long-percentage">Long: 0%</p>
  </div>

  <button data-value="short" style="background-color:#FBBDBD; border: 2px solid #ff0000; border-radius: 5px;">Short</button>
  <div class="percentage-container">
    <p style="background-color:#FBBDBD; font-weight: bold; border: 2px solid #ff0000; border-radius: 5px; padding: 5px;" id="short-percentage">Short: 0%</p>
  </div>

  <button data-value="range" style="background-color:#FFE9C0; border: 2px solid #ffa500; border-radius: 5px;">Range</button>
  <div class="percentage-container">
    <p style="background-color:#FFE9C0; font-weight: bold; border: 2px solid #ffa500; border-radius: 5px; padding: 5px;" id="range-percentage">Range: 0%</p>
  </div>

  <button data-value="clear" style="border: 2px solid #ccc; border-radius: 5px;">Clear</button>
</div>

  </div>

</body>
</html>
